<form
    hx-post="/api/labels/mappings"
    hx-swap="none"
    class="space-y-4"
>
    {% set risk_levels = ['CRITICAL', 'HIGH', 'MEDIUM', 'LOW'] %}
    {% for level in risk_levels %}
    <div class="flex items-center justify-between py-3 {% if not loop.last %}border-b border-gray-200{% endif %}">
        <div class="flex items-center">
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mr-3
                {% if level == 'CRITICAL' %}bg-red-100 text-red-800
                {% elif level == 'HIGH' %}bg-orange-100 text-orange-800
                {% elif level == 'MEDIUM' %}bg-yellow-100 text-yellow-800
                {% else %}bg-blue-100 text-blue-800{% endif %}">
                {{ level }}
            </span>
            <span class="text-sm text-gray-600">files</span>
        </div>
        <div class="flex items-center">
            <span class="text-sm text-gray-500 mr-3">Apply label:</span>
            <select
                name="mapping_{{ level | lower }}"
                class="rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-sm"
            >
                <option value="">No label</option>
                {% for label in labels %}
                <option
                    value="{{ label.id }}"
                    {% if mappings and mappings.get(level) == label.id %}selected{% endif %}
                >
                    {{ label.name }}
                </option>
                {% endfor %}
            </select>
        </div>
    </div>
    {% endfor %}

    <div class="pt-4">
        <button
            type="submit"
            class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700"
        >
            Save Mappings
        </button>
    </div>
</form>
